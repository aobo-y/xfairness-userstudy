(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports={wrapper:"InputSlider_wrapper__2d8YW",row:"InputSlider_row__2Vx_S"}},114:function(e,t,a){e.exports={icon:"Main_icon__DR1SY"}},146:function(e,t,a){e.exports=a(307)},153:function(e,t,a){},307:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),i=a.n(o),l=(a(151),a(153),a(22)),c=a(23),s=a(25),m=a(24),u=a(26),h=a(317),p=a(11),d=a(134),v=a.n(d),g=a(84),y=a(109),f=a(110),E=a.n(f),w=a(318),b=a(319),C=a(289),x=a(290),O=a(309),j=a(313),k=a(308),_=a(61),S=a(57),T={yelp_category:[[{id:"111",name:"Item 1",metadata:["m1","m2","m3"],exp:"This is a good item",review:"This is a very positive review"},{id:"112",name:"Item 2",metadata:["m1","m2","m3"],exp:"This is a bad item",review:"This is a very negative review"}],[{id:"113",name:"Item 3",metadata:["m1","m2","m3"],exp:"This is a good item",review:"This is a very positive review"},{id:"114",name:"Item 4",metadata:["m1","m2","m3"],exp:"This is a bad item",review:"This is a very negative review"}]],yelp_price:[[{id:"111",name:"Item 1",metadata:["m1","m2","m3"],exp:"This is a good item",review:"This is a very positive review"},{id:"112",name:"Item 2",metadata:["m1","m2","m3"],exp:"This is a bad item",review:"This is a very negative review"}],[{id:"113",name:"Item 3",metadata:["m1","m2","m3"],exp:"This is a good item",review:"This is a very positive review"},{id:"114",name:"Item 4",metadata:["m1","m2","m3"],exp:"This is a bad item",review:"This is a very negative review"}]],amazon_gender:[],amazon_active:[]},B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={dataset_key:"yelp"},a.onDatasetChange=function(e){a.setState({dataset_key:e})},a.onSubmit=function(){a.props.onSubmit(Object(g.a)({},a.state))},a.mapDatasetKeyToLabel=function(e){return e.replace("_"," ")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.visible,a=this.state.dataset_key;return r.a.createElement(j.a,{title:"Choose Context",visible:t,footer:null,closable:!1},r.a.createElement(k.a,null,r.a.createElement(k.a.Item,{label:"Dataset"},r.a.createElement(_.a,{value:a,onChange:this.onDatasetChange,style:{width:280}},Object.keys(T).map(function(t,a){return r.a.createElement(_.a.Option,{key:t,value:t},a,". ",e.mapDatasetKeyToLabel(t))}))),r.a.createElement(k.a.Item,null,r.a.createElement(S.a,{type:"primary",onClick:this.onSubmit},"Submit"))))}}]),t}(n.PureComponent),I=a(311),N=a(320),D=a(312),A=a(315),q=a(310),P=a(316),R=a(112),M=a.n(R),Y=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{className:M.a.row,gutter:16},r.a.createElement(x.a,{span:14},r.a.createElement("div",{className:M.a.wrapper},r.a.createElement(p.a,{type:"frown-o"}),r.a.createElement(q.a,this.props),r.a.createElement(p.a,{type:"smile-o"}))),r.a.createElement(x.a,{span:10},r.a.createElement(P.a,this.props)))}}]),t}(n.Component);Y.defaultProps={min:1,max:100,value:50};var F=function(e){e.id;var t=e.name,a=e.metadata,n=e.exp,o=e.review;return r.a.createElement(O.a,{title:t},a.map(function(e,t){return r.a.createElement(N.a,{key:t,color:"blue",style:{marginBottom:6}},e)}),Boolean(n)&&r.a.createElement(D.a,{defaultActiveKey:["1"],bordered:!1},r.a.createElement(D.a.Panel,{key:"1",header:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{type:"solution",style:{marginRight:8}}),"Explanation"),style:{border:0}},r.a.createElement("p",null,"This item is recommended because: ".concat(n)))),Boolean(o)&&r.a.createElement(D.a,{defaultActiveKey:["1"],bordered:!1},r.a.createElement(D.a.Panel,{key:"1",header:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{type:"solution",style:{marginRight:8}}),"User Review"),style:{border:0}},r.a.createElement("p",null,o))))},G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onChoiceChange=function(e){var t=a.props,n=t.id;(0,t.onChoiceChange)(n,e.target.value)},a.onRatingChange=function(e){var t=a.props,n=t.id;(0,t.onRatingChange)(n,e.target.value)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.items,n=e.choice,o=e.rating;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Q",t+1,". Please compare the 2 items recommended below and read the explanations of why they are recommended. Then you will asked to choose one of them based your preference."),r.a.createElement(C.a,{gutter:24,style:{marginBottom:16}},r.a.createElement(x.a,{xs:24,sm:24,md:12,lg:12,xl:12},r.a.createElement(F,{id:a[0].id,name:a[0].name,metadata:a[0].metadata,exp:a[0].exp,review:null!==n?a[0].review:null})),r.a.createElement(x.a,{xs:24,sm:24,md:12,lg:12,xl:12},r.a.createElement(F,{id:a[1].id,name:a[1].name,metadata:a[1].metadata,exp:a[1].exp,review:null!==n?a[1].review:null}))),r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement("p",null,"Choose the item you like more:"),r.a.createElement(A.a.Group,{onChange:this.onChoiceChange,value:n},r.a.createElement(A.a.Button,{value:0},"1. ",a[0].name),r.a.createElement(A.a.Button,{value:1},"2. ",a[1].name))),null!==n&&r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement("p",null,"Now, each item is given an additional user review. After reading the reviews, do you think the explanations help you make the right choice:"),r.a.createElement(A.a.Group,{onChange:this.onRatingChange,value:o},r.a.createElement(A.a.Button,{value:5},"Yes"),r.a.createElement(A.a.Button,{value:4},"Somewhat Yes"),r.a.createElement(A.a.Button,{value:3},"Neutral"),r.a.createElement(A.a.Button,{value:2},"Somewhat No"),r.a.createElement(A.a.Button,{value:1},"No"))))}}]),t}(n.PureComponent);G.defaultProps={choice:null,rating:null};var z=G,K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onChoiceChange=function(e,t){(0,a.props.onChange)("questions[".concat(e,"].choice"),t)},a.onRatingChange=function(e,t){(0,a.props.onChange)("questions[".concat(e,"].rating"),t)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.survey,a=t.questions.filter(function(e,a){return 0===a||null!==t.questions[a-1].rating});return r.a.createElement(I.a,{itemLayout:"vertical",size:"large",dataSource:a,rowKey:"id",renderItem:function(t,a){return r.a.createElement(I.a.Item,null,r.a.createElement(z,{id:a,items:t.items,choice:t.choice,rating:t.rating,onChoiceChange:e.onChoiceChange,onRatingChange:e.onRatingChange}))}})}}]),t}(n.PureComponent),W=a(314),H=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onMIDChange=function(e){(0,a.props.onChange)("mturk_id",e.target.value)},a.onGenderChange=function(e){(0,a.props.onChange)("gender",e.target.value)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.survey;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement("p",null,"Your Amazon Mechnical Turk ID:"),r.a.createElement(W.a,{placeholder:"Mturk ID",value:e.mturk_id,onChange:this.onMIDChange})),r.a.createElement("div",{style:{marginBottom:16}},r.a.createElement("p",null,"Your Gender:"),r.a.createElement(A.a.Group,{onChange:this.onGenderChange,value:e.gender},r.a.createElement(A.a.Button,{value:"male"},"Male"),r.a.createElement(A.a.Button,{value:"female"},"Female"),r.a.createElement(A.a.Button,{value:"other"},"Other"))))}}]),t}(n.PureComponent),L=a(114),U=a.n(L),J=2,Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={context:null,survey:null,submitted:!1},a.setContext=function(){var e=E.a.parse(window.location.search).dataset_key;if(e&&e in T){var t=T[e],n={mturk_id:null,gender:null,duration:null,questions:y.sampleSize(t,J).map(function(e,t){return{items:e,choice:null,rating:null}})};a.setState({context:{dataset_key:e},survey:n},function(){a.showWarning(),a.startTime=new Date})}},a.onContextSubmit=function(e){window.history.pushState({},null,"?"+E.a.stringify(e)),a.setContext()},a.onSurveyChange=function(e,t){var n=a.state.survey;y.set(n,e,t),a.setState({survey:Object(g.a)({},n)},function(){a.verifySurvey()})},a.verifySurvey=function(){var e=a.state.survey;if(null!==e.mturk_id&&null!==e.gender){for(var t=0;t<e.questions.length;t++){var n=e.questions[t];if(null===n.choice||null===n.rating)return}a.onSubmit()}},a.onSubmit=function(){var e=a.state;e.context,e.survey,e.submitted,new Date,a.startTime;a.setState({submitted:!0}),a.showNotification()},a.showNotification=function(){w.a.success({duration:10,message:"Congratulation!",description:"You have answered all questions."})},a.showWarning=function(){w.a.warning({duration:10,message:"Attention",description:"Please answer each question based your preference. Your behavior on this page will be recorded, and no token will be given to acquire reward on MTurk if you just randomly assign scores. Thanks!"})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setContext()}},{key:"render",value:function(){var e=this.state,t=e.context,a=e.survey,n=e.submitted;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(b.a,{message:"Congratulation!",description:"You have successfully completed the survey! Thank you for your participation! You may close this page now.",type:"info",showIcon:!0,style:{marginBottom:24}}),a&&!n&&r.a.createElement(C.a,{gutter:24},r.a.createElement(x.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement(O.a,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{type:"user",className:U.a.icon}),"Participant Infomation"),style:{marginBottom:16}},r.a.createElement(H,{survey:a,onChange:this.onSurveyChange})),r.a.createElement(O.a,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{type:"question",className:U.a.icon}),"Questionnaire"),style:{marginBottom:16}},r.a.createElement(K,{survey:a,onChange:this.onSurveyChange})))),r.a.createElement(B,{visible:!Boolean(t),onSubmit:this.onContextSubmit}))}}]),t}(n.PureComponent),V=a(62),X=a.n(V),Z=h.a.Header,$=h.a.Content,ee=h.a.Footer,te=v.a.generate(),ae=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"layout"},r.a.createElement(Z,null,r.a.createElement("div",{className:X.a.profile},r.a.createElement(p.a,{type:"user"})," ",te),r.a.createElement("span",{className:X.a.logo},"User Study of Explanation Recommendation System")),r.a.createElement($,{className:X.a.content},r.a.createElement(Q,{onEnd:this.onEnd})),r.a.createElement(ee,{className:X.a.footer},r.a.createElement("a",{href:"http://www.cs.virginia.edu/~hw5x/HCDM/"},"Human-Centric Data Mining Group"),"\xa0@ UVa"))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},62:function(e,t,a){e.exports={logo:"App_logo__2TZGr",content:"App_content__3bXcq",footer:"App_footer__1Ri8N",profile:"App_profile__3v9ud"}}},[[146,2,1]]]);
//# sourceMappingURL=main.6ae78065.chunk.js.map